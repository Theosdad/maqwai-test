const form=document.getElementById("form"),usernameInput=document.getElementById("modal-username"),userphoneInput=document.getElementById("modal-userphone"),emailInput=document.getElementById("modal-email");let isUsernameValid=!1,isUserphoneValid=!1,isEmailValid=!1;form.addEventListener("submit",(e=>{e.preventDefault(),validateForm()})),usernameInput.addEventListener("input",(e=>{const t=e.target.value.trim();isUsernameValid=isValidNameInput(t),isUsernameValid?setSuccessFor(usernameInput):setErrorFor(usernameInput,"Введите имя на кириллице или латинице")})),userphoneInput.addEventListener("input",(e=>{const t=e.target.value;isUserphoneValid=isValidPhoneInput(t),isUserphoneValid?setSuccessFor(userphoneInput):setErrorFor(userphoneInput,"Корректный формат - 11 цифр")})),emailInput.addEventListener("input",(e=>{const t=e.target.value;isEmailValid=isValidEmailInput(t),isEmailValid?setSuccessFor(emailInput):setErrorFor(emailInput,"Введите корректный адрес электронной почты")}));const validateForm=()=>{isUsernameValid&&isUserphoneValid&&isEmailValid&&form.submit()},setErrorFor=(e,t)=>{const s=e.parentElement,n=s.querySelector(".error-message");if(n)n.innerText=t;else{const e=document.createElement("span");e.innerText=t,e.className="error-message",s.appendChild(e)}s.classList.add("error")},setSuccessFor=e=>{const t=e.parentElement,s=t.querySelector(".error-message");s&&t.removeChild(s),t.classList.remove("error")},isValidNameInput=e=>/^[A-Za-zА-Яа-яЁё\s]*$/.test(e),isValidPhoneInput=e=>/^\d*$/.test(e)&&11===e.length,isValidEmailInput=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);