const loadMoreButton=document.getElementById("load-more"),cardList=document.querySelector(".card-list");let startIndex=10;const cardsPerLoad=5,maxCards=30,headerCollection=["Bridge","Water","Forest","Nature","Art"],fetchCards=()=>{fetch(`https://jsonplaceholder.typicode.com/posts?_start=${startIndex}&_limit=5`).then((e=>e.json())).then((e=>{0===e.length?loadMoreButton.style.display="none":e.forEach((e=>{const t=createCard(e);cardList.appendChild(t)}))})).catch((e=>console.error(e)))},createNode=(e,t,d)=>{const a=document.createElement(e);return t&&a.classList.add(t),d&&(a.textContent=d),a},getRandomHeader=()=>{const e=Math.floor(Math.random()*headerCollection.length);return headerCollection[e]},createCard=e=>{const t=createNode("li","card-list__item"),d=createNode("div","card-list__image");t.appendChild(d);const a=Math.ceil(10*Math.random()),r=createNode("img");r.setAttribute("src",`./img/cards/card-image-${a}.jpg`),r.setAttribute("srcset",`./img/cards/card-image-${a}@2x.jpg 2x`),r.setAttribute("width","320"),r.setAttribute("height","180"),r.setAttribute("alt",""),d.appendChild(r);const o=createNode("div","card-list__text");t.appendChild(o);const n=createNode("h3","",getRandomHeader());o.appendChild(n);const c=e.title.length>50?e.title.substring(0,50)+"...":e.title,s=createNode("h4","",c);o.appendChild(s);const i=e.body.length>180?e.body.substring(0,180)+"...":e.body,l=createNode("p","",i);o.appendChild(l);const h=createNode("b","","Eugenia"),p=createNode("span","","Posted by ");p.appendChild(h),p.innerHTML+=", on July 24, 2019",o.appendChild(p);const u=createNode("a","card-list__link","Continue reading");return u.setAttribute("href","#!"),o.appendChild(u),t};loadMoreButton.addEventListener("click",(()=>{startIndex<30?(fetch(`https://jsonplaceholder.typicode.com/posts?_start=${startIndex}&_limit=5`).then((e=>e.json())).then((e=>{0===e.length?loadMoreButton.style.display="none":e.forEach((e=>{const t=createCard(e);cardList.appendChild(t)}))})).catch((e=>console.error(e))),startIndex+=5):loadMoreButton.style.display="none"}));